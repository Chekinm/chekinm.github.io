<!DOCTYPE html>
<html lang="en">
  <!-- <py-env> - js</py-env> -->
  <py-config>
    [[fetch]]
    files = ["src/lzw.py"]
  </py-config>

  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>On-line LZW</title>
  <link rel="icon" type="image/x-icon" href="./media/favicon.ico">
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
  <link rel="stylesheet" href="style.css">

  </head>
    <body>
      <header class="header">
           <h1>LZW online compressor and decompressor</h1>
      </header>
      <nav role="navigation">
        <ul class="menu-bar">         
          <li><a class="drop-down-menu" href="#">MENU</a>
            <ul class="dropdown">
              <li><a class="menu-item" href="./index.html"><div class="click">Main</div></a></li>
              <li><a class="menu-item" href="./bio.html"><div class="click">Bio</div></a></li>
              <li><a class="menu-item" href="./alg_explain.html"><div class="click">LZW theory</div></a></li>
              <li><a class="menu-item" href="./science.html"><div class="click">Learn more</div></a></li>
              <li><a class="menu-item" href="./code.html"><div class="click">Play with LZW</div></a></li>
            </ul>
          </li>
        </ul>
      </nav>

      <main>
        <p class="code description">On this page you can play with you own strings 
                  and LZW algorithm. I wrote these algorithms on Python and nested
                  it here using <a href="https://pyscript.net">PyScript</a>.
                  Just type the string that you want to compress and hit the button. Once, the compress process will be completed, 
                  the result will be placed in the decoding section on the right. Now you can go trough the decode process, also step-by-step.
                  If you want to play with your own string to decode, you should check corresponding checkbox.
                  Be aware that algorithm only understand comma-separated values in the decode section.
        </p>
        
        <div class="flex-cont">
        <div class = compress>
          <p class = "comp-description"> Ok. Input some string here and press button. It will compress your string step by step.</p>
          <p>Here is a string</p>
          <input class="input textbox" id="manual-inp" value="abbabbb">
          <p>Look at this</p>
          
        
          <div class="output">
            <div class="write" id="manual-write">
            
              <button class="input button" py-Click="compress(res)" id="compress">Compress with LZW</button class="input button">      
            
              <div class="table" id="compress-table">
                <div class="table-cell-header" id="th-1">Char</div>
                <div class="table-cell-header" id="th-2">Current substring</div>
                <div class="table-cell-header" id="th-3">Code added</div>
                <div class="table-cell-header" id="th-4">Dict value</div>
                <div class="table-cell-header" id="th-5">Dict code</div>
              <div class="table" id="compress-output"></div>

                  <!-- place where Pyscript write compress table by it's own tabel -->

              </div>         
            </div>
          </div>
        </div>
            
        <div class="decompress" id="decompress-block">
          <p class="decomp-description"> So. We've got our coded string and we have dictionary with single simols. Let's decode it back.</p>
            <div class="write" id="manual-write1">

              <p>Here is our dictionary</p>  
              <!-- place where Pyscript write here by it's own -->

            <input class="input textbox disable" id="dict" value="">

              <p>And here is our compressed string</p> 
              <!-- place where Pyscript write here by it's own -->

            <input class="input textbox disable" id="code" value="">
            
            <label>
              <input class="input chekbox" type="checkbox" id="override-inp" name="override-inp" py-Click="check_box_action()"> 
              Check, if you want to decompress you own data. (This is beta-version, use at your own risk:)
            </label>

            <p>Look how it works</p>         
            <button class="input button disable" py-click="decompress(res)" id="decompress">Decompress LZW</button class="input button"> 
            
              <div class="output">
                  <div class="table" id="decompress-table">
                    <div class="table-cell-header" id="th-1">Char</div>
                    <div class="table-cell-header" id="th-2">Current substring</div>
                    <div class="table-cell-header" id="th-3">Dict value</div>
                    <div class="table-cell-header" id="th-4">Dict code</div>
                    <div class="table-cell-header" id="th-5">Decomp string</div>
                    <div class="table" id="decompress-output">

                      <!-- place where Pyscript write decompress table  by it's own -->
      
                    </div>
                  </div>              
              </div>
          </div>
        </div>
    </main>
      <py-script src="./src/py_code.py">
        
          <!-- execute  py_code.py  -->

      </py-script>
    </body>
    
    
</html>